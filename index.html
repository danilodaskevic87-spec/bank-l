<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—É–ø –ë–∞–∑–∞ - –õ—ñ—Å–æ–≤–∞ –ü—ñ—Å–Ω—è</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --bg-color: #010811;
            --card-bg: #05111f;
            --accent-green: #2ecc71;
            --text-white: #ffffff;
            --gray-text: #8899a6;
        }
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-white); 
            margin: 0; 
            display: flex; 
            justify-content: center; 
        }
        .container { width: 100%; max-width: 450px; padding: 20px; box-sizing: border-box; }
        
        /* –ö–∞—Ä—Ç–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */
        .user-card { 
            background: var(--card-bg); 
            border-radius: 20px; 
            padding: 20px; 
            text-align: center; 
            border: 1px solid #1e2d3d; 
            margin-bottom: 20px; 
        }
        .balance-big { font-size: 36px; font-weight: bold; color: var(--accent-green); margin: 10px 0; }
        
        /* –ö–Ω–æ–ø–∫–∏ –ø–æ—Å–ª—É–≥ */
        .service-btn { 
            width: 100%; 
            border: none; 
            padding: 16px; 
            margin-bottom: 12px; 
            border-radius: 12px; 
            font-weight: 700; 
            font-size: 16px; 
            cursor: pointer; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            gap: 10px; 
            background-color: var(--accent-green); 
            color: #000; 
            transition: 0.2s; 
        }
        .service-btn:active { transform: scale(0.98); }
        
        .btn-blue { background-color: #3498db !important; color: white !important; }
        .btn-purple { background-color: #9b59b6 !important; color: white !important; }
        .btn-gray { background-color: #34495e !important; color: white !important; }
        
        .section-header { 
            font-size: 18px; 
            margin: 25px 0 15px; 
            font-weight: bold; 
            border-left: 4px solid var(--accent-green); 
            padding-left: 10px; 
        }

        /* –ü–æ–ª—è –≤–≤–æ–¥—É */
        input { 
            width: 100%; 
            padding: 14px; 
            margin: 10px 0; 
            border-radius: 10px; 
            border: 1px solid #333; 
            background: #0a1625; 
            color: white; 
            box-sizing: border-box; 
            font-size: 16px;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ */
        .modal { 
            background: rgba(0,0,0,0.85); 
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            z-index: 100; 
        }
        .modal-content { 
            background: var(--card-bg); 
            padding: 25px; 
            border-radius: 20px; 
            width: 90%; 
            max-width: 400px; 
            border: 1px solid var(--accent-green); 
        }

        .hidden { display: none !important; }
        
        .request-item { 
            background: #0d1b2a; 
            padding: 15px; 
            border-radius: 10px; 
            margin-bottom: 10px; 
            border: 1px solid #1e2d3d; 
        }
    </style>
</head>
<body>

<div class="container">
    <div id="login-screen">
        <h2 style="text-align:center; margin-top: 50px;">üå≤ –õ—ñ—Å–æ–≤–∞ –ü—ñ—Å–Ω—è</h2>
        <p style="text-align:center; color: var(--gray-text);">–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π IDD –¥–ª—è –≤—Ö–æ–¥—É</p>
        <input type="number" id="idd-input" placeholder="–í–∞—à IDD (–Ω–∞–ø—Ä. 532656)">
        <button class="service-btn" onclick="login()">–£–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</button>
    </div>

    <div id="main-app" class="hidden">
        <div class="user-card">
            <div id="user-name" style="font-size: 1.3rem; font-weight: bold;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
            <div class="balance-big"><span id="user-balance">0</span> ‚Ç¥</div>
            <div style="color: var(--gray-text);">–í–∞—à IDD: <span id="user-idd">000000</span></div>
        </div>

        <div class="section-header">üí≥ –§—ñ–Ω–∞–Ω—Å–∏</div>
        <a href="https://next.privat24.ua/send/ijak6" target="_blank" style="text-decoration:none;">
            <button class="service-btn btn-blue">‚ûï –ü–æ–ø–æ–≤–Ω–∏—Ç–∏ –±–∞–ª–∞–Ω—Å</button>
        </a>
        <button class="service-btn btn-purple" onclick="toggleModal('transfer-modal', true)">üì≤ –ó–∞–ø–∏—Ç –Ω–∞ –ø–µ—Ä–µ–∫–∞–∑</button>
        <button class="service-btn btn-gray" onclick="viewTransferRequests()">üì© –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–ø–∏—Ç–∏</button>

        <div class="section-header">üçΩÔ∏è –ü–æ—Å–ª—É–≥–∏</div>
        <button class="service-btn" onclick="processOrder('üçî –á–∂–∞', 10)">üçî –á–∂–∞ ‚Äî 10 ‚Ç¥</button>
        <button class="service-btn" onclick="processOrder('üíß –í–æ–¥–∞', 5)">üíß –í–æ–¥–∞ ‚Äî 5 ‚Ç¥</button>
        <button class="service-btn" onclick="processOrder('ü•§ –ö–æ–ª–∞', 12)">ü•§ –ö–æ–ª–∞ ‚Äî 12 ‚Ç¥</button>
        <button class="service-btn" onclick="processOrder('üçå –ë–∞–Ω–∞–Ω', 7)">üçå –ë–∞–Ω–∞–Ω ‚Äî 7 ‚Ç¥</button>

        <div class="section-header">üî• –ö–∞–π—Ñ –∑–æ–Ω–∞ (–í—ñ–ª—å–Ω–∏—Ö: <span id="kz-slots">?</span>)</div>
        <button class="service-btn" onclick="processOrder('ü™ë 1 –º—ñ—Å—Ü–µ', 60)">ü™ë 1 –º—ñ—Å—Ü–µ ‚Äî 60 ‚Ç¥</button>

        <button class="service-btn btn-gray" style="margin-top: 30px;" onclick="location.reload()">–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç—É</button>
    </div>
</div>

<div id="transfer-modal" class="modal hidden">
    <div class="modal-content">
        <h3 style="margin-top:0">–ù–æ–≤–∏–π –ø–µ—Ä–µ–∫–∞–∑</h3>
        <input type="number" id="target-idd" placeholder="IDD –æ—Ç—Ä–∏–º—É–≤–∞—á–∞">
        <input type="number" id="transfer-amount" placeholder="–°—É–º–∞ –ø–µ—Ä–µ–∫–∞–∑—É">
        <button class="service-btn" onclick="sendTransferRequest()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø–∏—Ç</button>
        <button class="service-btn btn-gray" onclick="toggleModal('transfer-modal', false)">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
    </div>
</div>

<div id="requests-list-modal" class="modal hidden">
    <div class="modal-content">
        <h3 style="margin-top:0">–í—Ö—ñ–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏</h3>
        <div id="requests-container">
            </div>
        <button class="service-btn btn-gray" style="margin-top:10px" onclick="toggleModal('requests-list-modal', false)">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>
