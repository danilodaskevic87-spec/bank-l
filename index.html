<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Forest</title>
    <style>
        body { background: #ffffff; color: #000000; font-family: 'Segoe UI', sans-serif; padding: 20px; line-height: 1.4; }
        .hidden { display: none; }
        
        /* –ö–Ω–æ–ø–∫–∏ —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —è–∫ –Ω–∞ —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ */
        .btn { padding: 6px 12px; border: 1px solid #767676; background: #efefef; cursor: pointer; font-size: 14px; margin-right: 5px; display: inline-flex; align-items: center; gap: 4px; }
        .btn:hover { background: #e5e5e5; }
        
        input { padding: 4px 8px; border: 1px solid #767676; margin-bottom: 10px; }
        h2, h3 { margin-top: 20px; margin-bottom: 10px; }
        
        /* –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ (–Ω–∞ —á–æ—Ä–Ω–æ–º—É —Ñ–æ–Ω—ñ —è–∫ —É –≤–∫–ª–∞–¥–µ–Ω–Ω—è—Ö) */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,1); display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .modal-content { background: #1e293b; padding: 30px; border-radius: 12px; width: 320px; text-align: center; color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .modal-content h3 { color: white; margin-top: 0; font-size: 18px; display: flex; align-items: center; justify-content: center; gap: 8px; }
        
        /* –ß–µ—Ä–≤–æ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ó–ê–ö–†–ò–¢–ò —è–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω—Ü—ñ */
        .btn-close { background: #f85149; color: white; border: none; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; margin-top: 15px; cursor: pointer; }
        .btn-close:hover { background: #da3633; }

        .service-row { margin-bottom: 8px; }
        .kz-status { color: #facc15; font-weight: bold; margin: 10px 0; }
        
        /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –∫–æ—à–∏–∫–∞ */
        #cart-btn { padding: 5px 10px; background: #efefef; border: 1px solid #767676; cursor: pointer; margin: 10px 0; }
    </style>
</head>
<body>

    <div id="auth-screen">
        <h1 style="display: flex; align-items: center; gap: 10px;">üå≤ Bank Forest</h1>
        <div style="display: flex; gap: 5px; align-items: flex-start;">
            <input type="email" id="email-input" placeholder="–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞">
            <input type="password" id="password-input" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="btn" onclick="signIn()">–£–í–Ü–ô–¢–ò</button>
        </div>
        <p style="margin-top: 5px;">
            <a href="#" onclick="forgotPassword()" style="font-size: 12px; color: #0000ee;">–ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å? (Gmail)</a>
        </p>
    </div>

    <div id="main-app" class="hidden">
        <h2 id="user-name">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</h2>
        
        <p>–ë–∞–ª–∞–Ω—Å: <span id="user-balance">0</span> üå≤ <span id="vip-icon" style="display:none;">üíé</span></p>
        <p>IDD: <span id="user-idd">0000</span> | –†–∞–Ω–≥: <span id="user-rank">...</span></p>
        <p>–í–∏—Ç—Ä–∞—á–µ–Ω–æ –∑–∞ –≤–µ—Å—å —á–∞—Å: <span id="user-spent">0</span> ‚Ç¥</p>
        
        <button id="cart-btn" onclick="toggleModal('cart-modal', true)">üõí <span id="cart-count">0</span></button>
        
        <p>üì¢ –ù–æ–≤–∏–Ω–∏: <span id="news-text">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span></p>

        <h3>üè¶ –ë–∞–Ω–∫—ñ–≤—Å—å–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó</h3>
        <button class="btn" onclick="toggleModal('transfer-modal', true)">üí∏ –ü–ï–†–ï–ö–ê–ó–ê–¢–ò</button>
        <button class="btn" onclick="viewTransferRequests()">üì© –ó–ê–ü–ò–¢–ò</button>
        <button class="btn" onclick="usePromo()">üé´ –ü–†–û–ú–û–ö–û–î</button>
        <button class="btn" onclick="toggleModal('exchange-modal', true)">üí∞ –ü–û–ü–û–í–ù–ò–¢–ò</button>

        <h3>üéÆ –†–æ–∑–≤–∞–≥–∏</h3>
        <button class="btn" onclick="startForestGame()">üå≤ –ì–†–ê "–õ–Ü–°" (23 üå≤)</button>
        <button class="btn" onclick="spinWheel()">üé° –ö–û–õ–ïCO (15 ‚Ç¥)</button>

        <h3>üõí –ö—Ä–∞–º–Ω–∏—Ü—è —Ç–∞ –ü–æ—Å–ª—É–≥–∏</h3>
        <div id="services-list"></div>

        <div class="kz-status" id="kz-status">–í—ñ–ª—å–Ω–∏—Ö –º—ñ—Å—Ü—å: ...</div>
        
        <h3>üè† –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ö–ó</h3>
        <div id="kz-list"></div>

        <div style="margin-top: 30px;">
            <button class="btn" onclick="toggleModal('review-modal', true)">‚≠ê –í–Ü–î–ì–£–ö</button>
            <button class="btn" onclick="loadReviews()">üìñ –ß–ò–¢–ê–¢–ò –í–Ü–î–ì–£–ö–ò</button>
            <button class="btn" onclick="signOut()">–í–ò–ô–¢–ò</button>
        </div>
    </div>

    <div id="requests-list-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üì© –í—Ö—ñ–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏</h3>
            <div id="requests-container" style="color: white; margin: 15px 0;"></div>
            <button class="btn-close" onclick="toggleModal('requests-list-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <div id="transfer-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üí∏ –ü–µ—Ä–µ–∫–∞–∑ –∫–æ—à—Ç—ñ–≤</h3>
            <input type="number" id="target-idd" placeholder="IDD –æ—Ç—Ä–∏–º—É–≤–∞—á–∞" style="width: 100%;">
            <input type="number" id="transfer-amount" placeholder="–°—É–º–∞ üå≤" style="width: 100%;">
            <button class="btn" style="width: 100%; margin-bottom: 5px;" onclick="sendDirectTransfer()">–ú–ò–¢–¢–Ñ–í–û –ü–ï–†–ï–ö–ê–ó–ê–¢–ò</button>
            <button class="btn" style="width: 100%;" onclick="sendTransferRequest()">–ù–ê–î–Ü–°–õ–ê–¢–ò –ó–ê–ü–ò–¢</button>
            <button class="btn-close" onclick="toggleModal('transfer-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <div id="wheel-modal" class="modal hidden">
        <div class="modal-content">
            <div id="game-container"></div>
            <button class="btn-close" onclick="toggleModal('wheel-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <div id="cart-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üõí –í–∞—à –∫–æ—à–∏–∫</h3>
            <div id="cart-items-list" style="margin-bottom: 10px; text-align: left;"></div>
            <p>–†–∞–∑–æ–º: <span id="cart-total">0</span> ‚Ç¥</p>
            <button class="btn" style="width:100%" onclick="checkoutCart()">–û–ü–õ–ê–¢–ò–¢–ò</button>
            <button class="btn-close" onclick="toggleModal('cart-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <div id="exchange-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üí∞ –ü–æ–ø–æ–≤–Ω–∏—Ç–∏ –±–∞–ª–∞–Ω—Å</h3>
            <input type="number" id="exchange-amount" placeholder="–ö—ñ–ª—å–∫—ñ—Å—Ç—å üå≤" style="width: 100%;">
            <button class="btn" style="width:100%" onclick="buyCurrency()">–û–ü–õ–ê–¢–ò–¢–ò –ß–ï–†–ï–ó MONO</button>
            <button class="btn-close" onclick="toggleModal('exchange-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <div id="review-modal" class="modal hidden">
        <div class="modal-content">
            <h3>‚≠ê –ó–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫</h3>
            <div id="star-input" style="margin-bottom: 10px;">
                <span onclick="setRating(1)">‚≠ê</span><span onclick="setRating(2)">‚≠ê</span><span onclick="setRating(3)">‚≠ê</span><span onclick="setRating(4)">‚≠ê</span><span onclick="setRating(5)">‚≠ê</span>
            </div>
            <textarea id="review-text" style="width: 100%; background: white; color: black;"></textarea>
            <button class="btn" style="width:100%" onclick="sendReview()">–í–Ü–î–ü–†–ê–í–ò–¢–ò</button>
            <button class="btn-close" onclick="toggleModal('review-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <div id="reviews-list-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üìñ –í—ñ–¥–≥—É–∫–∏</h3>
            <div id="reviews-container" style="text-align: left; max-height: 200px; overflow-y: auto;"></div>
            <button class="btn-close" onclick="toggleModal('reviews-list-modal', false)">–ó–ê–ö–†–ò–¢–ò</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>
